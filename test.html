<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>jsptpl.js</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <pre>
           
        </pre>
        <script type="t/template" id="test">
<ul>
<c:forEach items="${hardlist}" var="item">
<li>name:${item.name}
<c:forEach items="${item.objlist}" var="tmp">
<span>${tmp.type}</span></c:forEach></li></c:forEach></ul>
        </script>
        <script type="t/template" id="test3">
<ul><c:forEach items="${hardlist}" var="item"><li>name:${item.name}<c:forEach items="${item.objlist}" var="tmp"><span>${tmp.type}</span></c:forEach></li></c:forEach></ul>      </script>



        <script type="t/template" id="test1">
            <div class="t0"></div><div class="test1"><div class="test2"><div class="test4"></div></div><div class="test3"></div></div>
        </script>
        <script type="text/javascript" src="/dist/jsptpl.js"></script>
        <!--<script type="text/javascript" src="lib/tagsearch.js"></script>-->
        <script type="text/javascript">
var data = {
    title: "hellow word",
    objlist: [
        {
            name: "咩咩咩",
            type: "人在塔在"
        },
        {
            name: "嗷嗷嗷",
            type: "我去前面探探路"
        }
    ],
    strlist: ["字符串1", "字符串2"],
    hardlist: [
        {
            name: "第一层循环 呵呵",
            objlist: [
                {
                    name: "nav1",
                    type: "第二层循环 咩咩咩",
                    objlist: [
                        {
                            name: "第三层循环 娃哈哈"
                        },
                        {
                            name: "第三层循环 哈士奇"
                        }
                    ]
                },
                {
                    name: "nav2",
                    type: "第二层循环 昂昂昂"
                }
            ]
        },
        {
            name: "第一层循环 哈哈",
            objlist: [
                {
                    name: "nav1",
                    type: "第二层循环 嗷嗷嗷"
                },
                {
                    name: "nav2",
                    type: "第二层循环 万往往"
                }
            ]
        }
    ],
    objs: {
        name: "type1",
        objlist: [
            {
                "name": "我去前面探探路"
            }
        ],
        list2: ["简单字符串"]

    }
}
//=================华丽的测试分割线==============
var str = document.getElementById('test').innerHTML;
var str3 = document.getElementById('test3').innerHTML;
var strtmpl = new jsptpl(str);
var retstr = strtmpl.render(data);
console.log(str);
console.log(retstr);
console.log("///////////////////////")
var strtmpl3 = new jsptpl(str3);
var retstr3 = strtmpl3.render(data);


console.log(str3);
console.log(retstr3);
//<(?<HtmlTag>div)[^>]*?>((?<Nested><\k<HtmlTag>[^>]*>)|</\k<HtmlTag>>(?<-Nested>)|.*?)*</\k<HtmlTag>>
//var reg2=/((\?<Nested><\k<HtmlTag>[^>]*>)|<\/\k<HtmlTag>>(\?<-Nested>)|.*?)*<\/\k<HtmlTag>>/g;
//var reg3=new RegExp("((?<Nested><\k<HtmlTag>[^>]*>)|</\k<HtmlTag>>(?<-Nested>)|.*?)*</\k<HtmlTag>>")
//var reg4 = /(div)[^>].*>(.*\1[^>].*>).*<\/\1>/g;
var reg4 = /<[c|t]:forEach[\s]*items=["|']\$\{(.+?)\}.*[\s]+?var=["|'](.+?)["|'].*>([\s\S]+)<\/[c|t]:forEach>/gm;
var s = "aabbccabcacasdfasdfaabnmm";
var reg3 = /(aa|ca)(?!bb).{3}/g
s.replace(reg3, function (a, b, c) {
//    console.log("$1",a)
//    console.log("$2",b)
//    console.log("$3",c)
})
var str = "caacbamccgcmdcae"
var reg = /(ca).{2}/g
//console.log(str.match(reg))
//    str.replace(reg4, function ($1, $2, $3, $4) {
//    console.log("$1", $1);
//    console.log("$2", $2);
//    console.log("$3", $3);
//    console.log("$4", $4);
//    console.log("============");
//})
        </script>
    </body>
</html>
